{"version":3,"file":"index.min.cjs","sources":["../src/payloads/ColorPayload.js","../src/index.js","../src/payloads/NewScreenPayload.js","../src/payloads/SizePayload.js","../src/payloads/RemovePayload.js","../src/payloads/HidePayload.js","../src/payloads/NotifyPayload.js","../src/payloads/LogPayload.js","../src/payloads/CustomPayload.js"],"sourcesContent":["export default color => ({\n    type: 'color',\n    content: { color },\n})\n","import axios from 'axios'\nimport uuid from 'uuid'\nimport ColorPayload from './payloads/ColorPayload'\nimport HidePayload from './payloads/HidePayload'\nimport LogPayload from './payloads/LogPayload'\nimport NewScreenPayload from './payloads/NewScreenPayload'\nimport RemovePayload from './payloads/RemovePayload'\nimport SizePayload from './payloads/SizePayload'\nimport NotifyPayload from './payloads/NotifyPayload'\nimport CustomPayload from './payloads/CustomPayload'\nimport StackTrace from 'stacktrace-js'\n\nclass Ray {\n    static client\n\n    constructor(host = '127.0.0.1', port = 23517) {\n        this.uuid = uuid.v4()\n        this.client = axios.create({\n            baseURL: `http://${host}:${port}/`,\n        })\n    }\n\n    newScreen(name = '') {\n        this.sendRequest(NewScreenPayload(name))\n\n        return this\n    }\n\n    clearScreen() {\n        return this.newScreen()\n    }\n\n    color(color) {\n        this.sendRequest(ColorPayload(color))\n\n        return this\n    }\n\n    size(size) {\n        this.sendRequest(SizePayload(size))\n\n        return this\n    }\n\n    remove() {\n        this.sendRequest(RemovePayload())\n\n        return this\n    }\n\n    hide() {\n        this.sendRequest(HidePayload())\n\n        return this\n    }\n\n    notify(text) {\n        this.sendRequest(NotifyPayload(text))\n\n        return this\n    }\n\n    die() {\n        process.exit()\n    }\n\n    showWhen(boolOrFunc) {\n        if (typeof boolOrFunc == 'function') boolOrFunc = boolOrFunc()\n\n        if (!boolOrFunc) this.remove()\n\n        return this\n    }\n\n    showIf(boolOrFunc) {\n        return this.showWhen(boolOrFunc)\n    }\n\n    removeWhen(boolOrFunc) {\n        if (typeof boolOrFunc == 'function') boolOrFunc = boolOrFunc()\n\n        if (boolOrFunc) this.remove()\n\n        return this\n    }\n\n    removeIf(boolOrFunc) {\n        return this.removeWhen(boolOrFunc)\n    }\n\n    ban() {\n        return this.send('ðŸ•¶')\n    }\n\n    charles() {\n        return this.send('ðŸŽ¶ ðŸŽ¹ ðŸŽ· ðŸ•º')\n    }\n\n    send(...values) {\n        if (values.length == 0) return this\n\n        this.sendRequest(LogPayload(...values))\n\n        return this\n    }\n\n    pass(value) {\n        this.send(value)\n\n        return value\n    }\n\n    sendCustom(content, label = '') {\n        this.sendRequest(CustomPayload(content, label))\n\n        return this\n    }\n\n    getOrigin() {\n        const st = StackTrace.getSync()\n        return st.find(({ fileName }) => !fileName.includes('js-ray/dist/index') )\n    }\n\n    sendRequest(...payloads) {\n        const origin = this.getOrigin()\n        const requestPayload = {\n            uuid: this.uuid,\n            payloads: payloads.map(payload => {\n                payload.origin = {\n                    file: origin.fileName || 'unknown.js',\n                    line_number: origin.lineNumber || 1,\n                }\n\n                return payload\n            }),\n            meta: [],\n        }\n\n        this.client.post('/', requestPayload)\n    }\n}\n\nconst ray = (...args) => new Ray().send(...args)\n\nexport default {\n    install: function(Vue,) {\n      Object.defineProperty(Vue.prototype, '$ray', { value: ray });\n    }\n  }\n","export default name => ({\n    type: 'new_screen',\n    content: { name },\n})\n","export default size => ({\n    type: 'size',\n    content: { size },\n})\n","export default () => ({\n    type: 'remove',\n    content: [],\n})\n","export default () => ({\n    type: 'hide',\n    content: [],\n})\n","export default value => ({\n    type: 'notify',\n    content: { value },\n})\n","export default (...values) => {\n    return {\n        type: 'log',\n        content: { values },\n    }\n}\n","export default (content, label) => ({\n    type: 'custom',\n    content: { content, label },\n})\n"],"names":["Ray","constructor","host","port","uuid","v4","client","axios","create","baseURL","newScreen","name","sendRequest","type","content","NewScreenPayload","this","clearScreen","color","ColorPayload","size","SizePayload","remove","hide","notify","text","value","die","process","exit","showWhen","boolOrFunc","showIf","removeWhen","removeIf","ban","send","charles","values","length","LogPayload","pass","sendCustom","label","CustomPayload","getOrigin","StackTrace","getSync","find","fileName","includes","payloads","origin","requestPayload","map","payload","file","line_number","lineNumber","meta","post","ray","args","install","Vue","Object","defineProperty","prototype"],"mappings":"kLAAA,UCYA,MAAMA,EAGFC,YAAYC,EAAO,YAAaC,EAAO,YAC9BC,KAAOA,UAAKC,UACZC,OAASC,UAAMC,OAAO,CACvBC,QAAU,UAASP,KAAQC,OAInCO,UAAUC,EAAO,gBACRC,aCvBED,KACXE,KAAM,aACNC,QAAS,CAAEH,KAAAA,KDqBUI,CAAiBJ,IAE3BK,KAGXC,qBACWD,KAAKN,YAGhBQ,MAAMA,eACGN,aDjCEM,KACXL,KAAM,QACNC,QAAS,CAAEI,MAAAA,KC+BUC,CAAaD,IAEvBF,KAGXI,KAAKA,eACIR,aEvCEQ,KACXP,KAAM,OACNC,QAAS,CAAEM,KAAAA,KFqCUC,CAAYD,IAEtBJ,KAGXM,qBACSV,aG5CTC,KAAM,SACNC,QAAS,KH6CEE,KAGXO,mBACSX,aIlDTC,KAAM,OACNC,QAAS,KJmDEE,KAGXQ,OAAOC,eACEb,aKxDTC,KAAM,SACNC,QAAS,CAAEY,MLuDwBD,KAExBT,KAGXW,MACIC,QAAQC,OAGZC,SAASC,SACoB,mBAAdA,IAA0BA,EAAaA,KAE7CA,GAAYf,KAAKM,SAEfN,KAGXgB,OAAOD,UACIf,KAAKc,SAASC,GAGzBE,WAAWF,SACkB,mBAAdA,IAA0BA,EAAaA,KAE9CA,GAAYf,KAAKM,SAEdN,KAGXkB,SAASH,UACEf,KAAKiB,WAAWF,GAG3BI,aACWnB,KAAKoB,KAAK,MAGrBC,iBACWrB,KAAKoB,KAAK,eAGrBA,QAAQE,UACiB,GAAjBA,EAAOC,aAEN3B,iBMrGM0B,KACR,CACHzB,KAAM,MACNC,QAAS,CAAEwB,OAAAA,KNkGME,IAAcF,IAFAtB,KAOnCyB,KAAKf,eACIU,KAAKV,GAEHA,EAGXgB,WAAW5B,EAAS6B,EAAQ,gBACnB/B,cOjHGE,EAAS6B,MACrB9B,KAAM,SACNC,QAAS,CAAEA,QAAAA,EAAS6B,MAAAA,KP+GCC,CAAc9B,EAAS6B,IAEjC3B,KAGX6B,mBACeC,UAAWC,UACZC,MAAK,EAAGC,SAAAA,MAAgBA,EAASC,SAAS,uBAGxDtC,eAAeuC,SACLC,EAASpC,KAAK6B,YACdQ,EAAiB,CACnBjD,KAAMY,KAAKZ,KACX+C,SAAUA,EAASG,KAAIC,IACnBA,EAAQH,OAAS,CACbI,KAAMJ,EAAOH,UAAY,aACzBQ,YAAaL,EAAOM,YAAc,GAG/BH,KAEXI,KAAM,SAGLrD,OAAOsD,KAAK,IAAKP,8BA9HxBrD,yFAkIN,MAAM6D,EAAM,IAAIC,KAAS,IAAI9D,GAAMoC,QAAQ0B,GAE3C,MAAe,CACXC,QAAS,SAASC,GAChBC,OAAOC,eAAeF,EAAIG,UAAW,OAAQ,CAAEzC,MAAOmC"}