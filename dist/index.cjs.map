{"version":3,"file":"index.cjs","sources":["../src/payloads/ColorPayload.js","../src/payloads/HidePayload.js","../src/payloads/LogPayload.js","../src/payloads/NewScreenPayload.js","../src/payloads/RemovePayload.js","../src/payloads/SizePayload.js","../src/payloads/NotifyPayload.js","../src/payloads/CustomPayload.js","../src/index.js"],"sourcesContent":["export default color => ({\n    type: 'color',\n    content: { color },\n})\n","export default () => ({\n    type: 'hide',\n    content: [],\n})\n","export default (...values) => {\n    return {\n        type: 'log',\n        content: { values },\n    }\n}\n","export default name => ({\n    type: 'new_screen',\n    content: { name },\n})\n","export default () => ({\n    type: 'remove',\n    content: [],\n})\n","export default size => ({\n    type: 'size',\n    content: { size },\n})\n","export default value => ({\n    type: 'notify',\n    content: { value },\n})\n","export default (content, label) => ({\n    type: 'custom',\n    content: { content, label },\n})\n","import axios from 'axios'\nimport uuid from 'uuid'\nimport ColorPayload from './payloads/ColorPayload'\nimport HidePayload from './payloads/HidePayload'\nimport LogPayload from './payloads/LogPayload'\nimport NewScreenPayload from './payloads/NewScreenPayload'\nimport RemovePayload from './payloads/RemovePayload'\nimport SizePayload from './payloads/SizePayload'\nimport NotifyPayload from './payloads/NotifyPayload'\nimport CustomPayload from './payloads/CustomPayload'\nimport StackTrace from 'stacktrace-js'\n\nclass Ray {\n    static client\n\n    constructor(host = '127.0.0.1', port = 23517) {\n        this.uuid = uuid.v4()\n        this.client = axios.create({\n            baseURL: `http://${host}:${port}/`,\n        })\n    }\n\n    newScreen(name = '') {\n        this.sendRequest(NewScreenPayload(name))\n\n        return this\n    }\n\n    clearScreen() {\n        return this.newScreen()\n    }\n\n    color(color) {\n        this.sendRequest(ColorPayload(color))\n\n        return this\n    }\n\n    size(size) {\n        this.sendRequest(SizePayload(size))\n\n        return this\n    }\n\n    remove() {\n        this.sendRequest(RemovePayload())\n\n        return this\n    }\n\n    hide() {\n        this.sendRequest(HidePayload())\n\n        return this\n    }\n\n    notify(text) {\n        this.sendRequest(NotifyPayload(text))\n\n        return this\n    }\n\n    die() {\n        process.exit()\n    }\n\n    showWhen(boolOrFunc) {\n        if (typeof boolOrFunc == 'function') boolOrFunc = boolOrFunc()\n\n        if (!boolOrFunc) this.remove()\n\n        return this\n    }\n\n    showIf(boolOrFunc) {\n        return this.showWhen(boolOrFunc)\n    }\n\n    removeWhen(boolOrFunc) {\n        if (typeof boolOrFunc == 'function') boolOrFunc = boolOrFunc()\n\n        if (boolOrFunc) this.remove()\n\n        return this\n    }\n\n    removeIf(boolOrFunc) {\n        return this.removeWhen(boolOrFunc)\n    }\n\n    ban() {\n        return this.send('ðŸ•¶')\n    }\n\n    charles() {\n        return this.send('ðŸŽ¶ ðŸŽ¹ ðŸŽ· ðŸ•º')\n    }\n\n    send(...values) {\n        if (values.length == 0) return this\n\n        this.sendRequest(LogPayload(...values))\n\n        return this\n    }\n\n    pass(value) {\n        this.send(value)\n\n        return value\n    }\n\n    sendCustom(content, label = '') {\n        this.sendRequest(CustomPayload(content, label))\n\n        return this\n    }\n\n    getOrigin() {\n        const st = StackTrace.getSync()\n        return st.find(({ fileName }) => !fileName.includes('js-ray/dist/index') )\n    }\n\n    sendRequest(...payloads) {\n        const origin = this.getOrigin()\n        const requestPayload = {\n            uuid: this.uuid,\n            payloads: payloads.map(payload => {\n                payload.origin = {\n                    file: origin.fileName || 'unknown.js',\n                    line_number: origin.lineNumber || 1,\n                }\n\n                return payload\n            }),\n            meta: [],\n        }\n\n        this.client.post('/', requestPayload)\n    }\n}\n\nconst ray = (...args) => new Ray().send(...args)\n\nexport default {\n    install: function(Vue,) {\n      Object.defineProperty(Vue.prototype, '$ray', { value: ray });\n    }\n  }\n"],"names":["color","type","content","values","name","size","value","label","Ray","constructor","host","port","uuid","v4","client","axios","create","baseURL","newScreen","sendRequest","NewScreenPayload","clearScreen","ColorPayload","SizePayload","remove","RemovePayload","hide","HidePayload","notify","text","NotifyPayload","die","process","exit","showWhen","boolOrFunc","showIf","removeWhen","removeIf","ban","send","charles","length","LogPayload","pass","sendCustom","CustomPayload","getOrigin","st","StackTrace","getSync","find","fileName","includes","payloads","origin","requestPayload","map","payload","file","line_number","lineNumber","meta","post","ray","args","install","Vue","Object","defineProperty","prototype"],"mappings":"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"}